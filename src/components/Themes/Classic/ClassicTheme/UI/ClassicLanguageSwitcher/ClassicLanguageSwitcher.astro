---
import "./ClassicLanguageSwitcher.css";
// Get language from cookie during SSR
const currentLang = Astro.cookies.get('lang')?.value || 'en';
const isArabic = currentLang === 'ar';

// Configuration options
const redirectDelay = 150; // Delay before redirect in ms
const cookieMaxAge = 31536000; // 1 year in seconds
const showTransition = true; // Enable visual transition
---

<div class="flex justify-end">
  <language-switcher 
    data-lang-current={currentLang}
    data-lang-redirect-delay={redirectDelay}
    data-lang-cookie-max-age={cookieMaxAge}
    data-lang-show-transition={showTransition}
  >
    <button
      data-lang-toggle-btn
      class="p-1 classic-lang-switcher text-xs focus:outline-none"
      aria-label="Switch language"
    >
      <span class="text-xs font-medium" data-lang-text>{isArabic ? "En" : "عربي"}</span>
    </button>
  </language-switcher>
</div>

<script>
  import { initTranslations } from "../../../../../../lib/utils/i18n/client";
  import "./ClassicLanguageSwitcher";  
  initTranslations();
</script>