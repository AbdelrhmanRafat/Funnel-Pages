---
// This component renders a fixed header for the Classic theme.
// It displays a logo, title, and an optional subtitle.
// The header remains at the top of the viewport during scrolling.
// Props:
// - data: An object of type BlockData, expected to contain `logo` (URL), `title` (string),
//         and `subtitle` (string, optional).

import type { BlockData } from "../../../../../lib/api/types";
import LanguageSwitcher from "../UI/Language Switcher/languageSwitcher.astro";

// Defines the path to a default logo image, used as a fallback.
const defaultLogoSrc : string =  "assets/default-logo.svg";

// Retrieves the 'data' prop passed to the component.
const data : BlockData = Astro.props.data;

// Sets the logo URL: uses the logo from props if available, otherwise falls back to the default logo.
const logo = data?.logo || defaultLogoSrc;
// Sets the title: uses the title from props if available, otherwise falls back to a default brand name.
const title = data?.title || "Your Brand Name";
// Sets the subtitle: uses the subtitle from props if available, otherwise falls back to an empty string.
const subtitle = data?.subtitle || "";
---

{/*
  The header element is styled to be fixed at the top, spanning the full width,
  with a white background and a subtle shadow.
  'z-50' ensures it stays above most other content.
*/}
<header class="bg-white shadow-sm fixed top-0 z-50 right-0 left-0 w-full">
  <div class="container mx-auto px-4">
   <LanguageSwitcher />
    <div class="flex flex-col items-center py-3"> {/* Centers content vertically and horizontally */}
      <div class="flex flex-col items-center text-center">
        {/* Logo image: uses the determined logo source and title as alt text. */}
        <img
          id="headerLogo"
          src={logo}
          alt={title}
          class="h-16 w-auto mb-2 object-contain" 
        />
        {/* Main title display. */}
        <h1 class="text-lg font-bold text-gray-900 leading-tight">
          {title}
        </h1>
        {/* Subtitle display: only renders if a subtitle is present. */}
        {subtitle && (
          <p class="text-sm text-gray-600 max-w-xs mt-1" title={subtitle}>
            {subtitle}
          </p>
        )}
      </div>
    </div>
  </div>
</header>

<script>
  // Imports and immediately calls the initHeader function from the corresponding TypeScript file.
  // This is used for any client-side JavaScript enhancements or event handling for the header.
  import { initHeader } from "./ClassicThemeHeader";
  initHeader();
</script>
