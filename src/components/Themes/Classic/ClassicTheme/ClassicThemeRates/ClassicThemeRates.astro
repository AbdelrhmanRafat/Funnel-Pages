---
import type { BlockData } from '../../../../../lib/api/types';


interface Props {
  data?: BlockData;
}
const { data } = Astro.props;
---
<!-- Rating Section -->
<div class="bg-cream border-2 border-gold rounded-2xl p-8 mb-10 shadow-lg">
  <h3 class="text-2xl font-bold text-burgundy mb-8 font-serif text-center">تقييمات العملاء</h3>

  <!-- Overall Rating -->
  <div class="text-center mb-10">
    <div class="text-6xl font-extrabold text-burgundy mb-2">{data?.rate}</div>
    <div class="flex justify-center text-yellow-400 text-3xl mb-2 space-x-1 rtl:space-x-reverse">
      <span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span>
    </div>
    <div class="text-gray-600 font-serif text-base">بناءً على <span class="font-bold">{data?.count}</span> تقييم</div>
  </div>

  <!-- Rating Breakdown -->
  <div class="space-y-3 mb-10">
    <!-- You can replace these values dynamically if needed -->
    {[5,4,3,2,1].map(star => (
      <div class="flex items-center">
        <span class="text-sm w-10 font-bold">{star}⭐</span>
        <div class="flex-1 mx-3 bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner">
          <div class="bg-yellow-400 h-full rounded-full transition-all duration-500" style={`width: ${[78, 15, 5, 2, 0][5 - star]}%`}></div>
        </div>
        <span class="text-sm text-gray-600 w-14">{[78, 15, 5, 2, 0][5 - star]}%</span>
      </div>
    ))}
  </div>

  <!-- Sample Reviews -->
  <div class="space-y-6">
    {[
      { name: "أحمد محمد", text: "منتج ممتاز جداً، جودة عالية وخدمة عملاء رائعة. أنصح به بشدة!", time: "منذ 3 أيام" },
      { name: "فاطمة العلي", text: "تجربة رائعة، المنتج كما هو موصوف تماماً. التسليم كان سريع.", time: "منذ أسبوع" },
      { name: "خالد السعيد", text: "قيمة ممتازة مقابل السعر. سأشتري مرة أخرى بالتأكيد.", time: "منذ أسبوعين" },
    ].map((review, index) => (
      <div class="bg-white p-5 rounded-xl border border-gold shadow-sm">
        <div class="flex items-center mb-2">
          <div class="text-yellow-400 ml-2 text-lg">⭐⭐⭐⭐⭐</div>
          <span class="font-bold text-burgundy text-base">{review.name}</span>
        </div>
        <p class="text-gray-700 text-sm leading-relaxed font-serif">{review.text}</p>
        <span class="text-xs text-gray-500 block mt-2">{review.time}</span>
      </div>
    ))}
  </div>

  <!-- View All Reviews Button -->
  <div class="text-center mt-8">
  </div>
</div>