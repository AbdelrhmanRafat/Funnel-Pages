---
// This component renders a preview of the product for the Classic theme.
// Props:
// - data: An object of type BlockData, containing product preview information.
import "./ClassicProductPreviewComponent.css"
import type { BlockData, ProductPreview } from "../../../../../lib/api/types";
import ClassicBuyNowButton from "../UI/ClassicBuyNowButton/ClassicBuyNowButton.astro";

const data: BlockData = Astro.props.data;
const productPreview: ProductPreview = data.productPreview;
---

<section id="classic-product-preview" class="classic-section">
    <!-- Header -->
    <div class="classic-section-header">
        <i class={productPreview.headerBadgeIcon}></i>
        <h5>{productPreview.headerBadgetext}</h5>
    </div>

    <!-- Main Content -->
    <div class="flex flex-col lg:flex-row gap-8 items-stretch">
        <!-- Right Side - Video (3/5 width on desktop) -->
        <div class="lg:w-3/5">
            <div class="classic-product-video-container classic-product-video-height w-full">
                <iframe
                    class="w-full h-full"
                    src={productPreview.videoInfo.link}
                    title="YouTube video player"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
                <div class="classic-product-video-title">
                    <p>{productPreview.videoInfo.title}</p>
                </div>
            </div>
        </div>
        
        <!-- Left Side - Features (2/5 width on desktop) -->
        <div class="lg:w-2/5 space-y-6">
            <div class="classic-product-features-container">
                <!-- Features Header -->
                <div class="classic-product-features-header flex flex-col justify-start items-start gap-2 md:flex-row md:justify-between md:items-center md:gap-0">
                    <h2 class="classic-product-features-title">
                        {productPreview.featuresSectionTitle}
                    </h2>
                    <div class="classic-product-views-badge">
                        <div>
                            <i class={productPreview.viewsIcon}></i>
                        </div>
                        <span>{productPreview.viewsText}</span>
                    </div>
                </div>
                
                <!-- Feature List -->
                <div class="space-y-8 mt-6">
                    {
                        productPreview.features.map((feature) => (
                            <div class="classic-product-feature-item">
                                <div class="classic-product-feature-icon">
                                <i class="fa-solid fa-circle-check"></i>
                                </div>
                                <div class="classic-product-feature-content">
                                    <div class="classic-product-feature-title">{feature.title}</div>
                                    <div class="classic-product-feature-subtitle">
                                        {feature.subtitle}
                                    </div>
                                </div>
                            </div>
                        ))
                    }
                </div>
                
                <!-- Buy Now Button -->
                <div class="mt-6">
                    <ClassicBuyNowButton />
                </div>
            </div>
        </div>
    </div>
</section>