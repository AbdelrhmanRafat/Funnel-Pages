---
// This component renders a preview of the product for the Classic theme.
// Props:
// - data: An object of type BlockData, containing product preview information.
import type { BlockData, ProductPreview } from "../../../../../lib/api/types";

const data: BlockData = Astro.props.data;
const productPreview : ProductPreview = data.productPreview;
---

<section id="classic-product-preview" class="bg-white rounded-2xl p-6">
    <!-- Header -->
    <div class="flex md:flex-row md:justify-between md:items-center md:gap-0 flex-col justify-center items-start gap-3 mb-8">
        <div class="flex items-center gap-2">
            <div class="bg-red-600 p-2 rounded-full text-white">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                        d="M15 8V6a2 2 0 00-2-2H3a2 2 0 00-2 2v8a2 2 0 002 2h10a2 2 0 002-2v-2l3 2V6l-3 2z"
                    ></path>
                </svg>
            </div>
            <div class="text-3xl font-bold">
                {productPreview.headerBadgetext}
            </div>
        </div>
        <div
            class="flex bg-gray-400 py-1 text-white px-4 rounded-2xl items-center gap-2 text-lg"
        >
            <div>
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M12 5c-7 0-11 7-11 7s4 7 11 7 11-7 11-7-4-7-11-7zm0 12a5 5 0 110-10 5 5 0 010 10z"
                    ></path>
                    <circle cx="12" cy="12" r="2.5" fill="white"></circle>
                </svg>
            </div>
            <span>{productPreview.warningText}</span>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex flex-col lg:flex-row gap-8 items-stretch">
        <!-- Right Side - Video (3/5 width on desktop) -->
        <div class="lg:w-3/5">
            <div
                class="w-full relative border-4 border-blue-500 h-[250px] md:h-full rounded-xl overflow-hidden shadow-lg"
            >
                <iframe
                    class="w-full h-full"
                    src={productPreview.videoInfo.link}
                    title="YouTube video player"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
                <div
                    class="absolute text-3xl font-bold bottom-9 right-2 text-white"
                >
                    <p>{productPreview.videoInfo.title}</p>
                </div>
            </div>
        </div>
        <!-- Left Side - Features (2/5 width on desktop) -->
        <div class="lg:w-2/5 space-y-6 bg-slate-500 rounded-xl p-4">
            <h2
                class="text-white text-2xl font-bold mb-6 text-start border-b border-white pb-3"
            >
                {productPreview.featuresSectionTitle}
            </h2>
            <!-- Feature List -->
            <div class="space-y-8">
                {
                    productPreview.features.map((feature) => (
                        <div class="flex items-center gap-3">
                            <div class="bg-blue-500 rounded-full p-2 flex-shrink-0">
                                <svg
                                    class="w-5 h-5 text-white"
                                    fill="currentColor"
                                    viewBox="0 0 20 20"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                        clip-rule="evenodd"
                                    />
                                </svg>
                            </div>
                            <div class="text-white text-right">
                                <div class="font-semibold">{feature.title}</div>
                                <div class="text-gray-300 text-sm">
                                    {feature.subtitle}
                                </div>
                            </div>
                        </div>
                    ))
                }
            </div>
            <!-- Purchase now Button -->
            <div class="mt-8">
                <a
                    class="w-full bg-blue-500 hover:bg-blue-700 text-white font-bold p-5 cursor-pointer rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"
                >
                    <svg
                        class="w-5 h-5"
                        fill="currentColor"
                        viewBox="0 0 576 512"
                    >
                        <path
                            d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"
                        ></path>
                    </svg>
                    <span>شراء المنتج الآن</span>
                </a>
            </div>
        </div>
    </div>
</section>
