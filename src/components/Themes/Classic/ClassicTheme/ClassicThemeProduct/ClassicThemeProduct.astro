---
import type { BlockData, Product } from "../../../../../lib/api/types";
import GalleryComponent from "../UI/Gallery/GalleryComponent.astro";
import ClassicThemeProductFunnel from "../ClassicThemeProductFunnel/ClassicThemeProductFunnel.astro";
import "./ClassicThemeProduct.css";

const product: Product = Astro.props.product;
const purchaseOptions: BlockData = Astro.props.purchaseOptions;
---

<section class="py-2 lg:pt-52">
    <div class="bg-white py-3 rounded-3xl product-shadow">
        <div class="flex flex-col lg:flex-row gap-2">
            <!-- Gallery Section - Enhanced -->
             <GalleryComponent product={product} />
            <!-- Product Info Section - Enhanced -->
            <div
                class="lg:w-1/2 lg:p-3 bg-gradient-to-br from-white to-gray-50"
            >
                <!-- Product Header -->
                <div class="mb-8">
                    <div class="flex items-center gap-2 mb-3">
                        <span
                            class="bg-green-100 text-green-800 text-xs px-3 py-1 rounded-full font-medium"
                            >{product.is_active ? "متوفر" : "غير متوفر"}</span
                        >
                        <span class="text-gray-500 text-sm"
                            >رمز المنتج: {product.sku_code}</span
                        >
                    </div>

                    <h1
                        class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4 leading-tight"
                    >
                        {product.name_ar}
                    </h1>

                    <div class="flex items-center gap-2 mb-4">
                        <div class="flex text-yellow-400">★★★★★</div>
                        <span class="text-gray-600 text-sm">(127 تقييم)</span>
                    </div>

                    <div class="text-4xl font-bold mb-6">
                        {product.price} ج.م
                    </div>
                </div>

                <!-- Product Description -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-900 mb-3">
                        وصف المنتج
                    </h3>
                    <p class="text-gray-600 leading-relaxed" set:html={product.description_ar}>
                   
                    </p>
                </div>

                <!-- Purchase options -->
                <ClassicThemeProductFunnel data={purchaseOptions} />
            </div>
        </div>
    </div>
</section>

<script>
    import "./ClassicThemeProduct";
</script>
