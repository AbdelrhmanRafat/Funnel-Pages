---
// ProductImageSection.astro
import "./troyImageTextOverlay.css";
import type { BlockData } from "../../../../../lib/api/types";
import troyBuyNowButton from "../UI/troyBuyNowButton/troyBuyNowButton.astro";
import { FunneltroyComponents } from "../../../../../lib/constants/themes";

const data: BlockData = Astro.props.data;
---

<section id={FunneltroyComponents.troyImageTextOverLay} class="troy-section">
  <!-- Header -->
  <div class="troy-section-header">
    <i class="fa-solid fa-images"></i>
    <h5>{data.title}</h5>
  </div>
  
  <!-- Featured Product with Overlay -->
  <div class="troy-image-text-overlay-card overflow-hidden">
    <div class="relative w-full overflow-hidden">
            
      <!-- Image (fills parent height) -->
      <img 
        src={data.image?.src}
        alt={data.image?.alt}
        class="absolute inset-0 w-full h-full object-cover brightness-75 z-0"
      />
      
      <!-- Overlay Content (dictates height) -->
      <div class="relative z-10 w-full flex flex-col items-center justify-center text-center px-4 sm:px-8 py-8">
        <div class="troy-image-text-overlay-content p-4 sm:p-6 rounded-xl space-y-3 w-full max-w-2xl">
          <h2 class="troy-image-text-overlay-title text-lg sm:text-2xl md:text-3xl font-bold leading-snug mb-4">
            {data.subtitle}
          </h2>
          <p class="troy-image-text-overlay-subtitle text-sm sm:text-base md:text-lg leading-relaxed mb-8 opacity-90">
            {data.description}
          </p>
          <troyBuyNowButton />
        </div>
      </div>
    </div>
  </div>
</section>