---
import "./elegantOrderThroughWhatsapp.css";
import type { BlockData, Features } from "../../../../../lib/api/types";
import { FunnelElegantComponents } from "../../../../../lib/constants/themes";
import type { Language } from "../../../../../lib/utils/i18n/translations";

const data: BlockData = Astro.props.data;
// Get initial language from cookie during SSR
const currentLang: Language = (Astro.cookies.get("lang")?.value || "ar") as Language;
const isArabic = currentLang === "ar";

const title = isArabic ? data.title_ar : data.title_en;
---
<section id={FunnelElegantComponents.ElegantOrderThroughWhatsapp} class="w-full">
  <a href={data.items?.[0].link} target="_blank" class="cursor-pointer">
    <div class="elegant-order-through-whatsapp">
      <div class="flex justify-center items-center gap-5 text-2xl">
        <h4>{title}</h4>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 24 24"
          fill="#25D366"
        >
          <path d="M20.52 3.48A11.93 11.93 0 0012 0a12 12 0 00-10.39 17.94L0 24l6.2-1.63A11.94 11.94 0 0012 24c6.63 0 12-5.37 12-12 0-3.2-1.25-6.21-3.48-8.52zM12 21.5a9.47 9.47 0 01-4.84-1.32l-.35-.21-3.68.97.98-3.59-.23-.37A9.49 9.49 0 1121.5 12c0 5.24-4.26 9.5-9.5 9.5zm5.26-7.18l-1.49-.75c-.2-.1-.43-.13-.65-.08-.21.05-.39.18-.51.36l-.2.3c-.23.34-.68.44-1.03.23-1.08-.63-1.94-1.48-2.56-2.56a.78.78 0 01.23-1.03l.3-.2c.18-.12.3-.3.36-.51.05-.22.02-.45-.08-.65l-.75-1.49c-.19-.38-.63-.57-1.03-.46a3.98 3.98 0 00-2.83 4.12c.04.9.34 1.77.87 2.52.95 1.38 2.32 2.48 3.9 3.16 1.1.46 2.33.5 3.47.13a3.98 3.98 0 002.45-2.87c.1-.4-.08-.84-.46-1.03z" />
        </svg>
      </div>
    </div>
  </a>
</section>