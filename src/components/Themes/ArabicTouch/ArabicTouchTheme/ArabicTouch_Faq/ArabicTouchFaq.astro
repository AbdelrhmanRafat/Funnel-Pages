---
// ArabicTouchFaq-ModernCards.astro - Variation 2: Modern Card Layout (Static)
import "./ArabicTouchFaq.css";
import type { BlockData, Faqs, Item } from "../../../../../lib/api/types";
import type { Language } from "../../../../../lib/utils/i18n/translations";
import { FunnelArabicTouchComponents } from "../../../../../lib/constants/themes";
import LucideIcon from "../../../../Shared/LucideIcon.astro";

// Get initial language from cookie during SSR
const currentLang: Language = (Astro.cookies.get("lang")?.value ||
    "en") as Language;
const isArabic = currentLang === "ar";

const data: BlockData = Astro.props.data;
const faqs: Item[] = data.items ?? [];
---

<!-- FAQ Modern Card Layout Component for Astro (Static) -->
<section
    id={FunnelArabicTouchComponents.ArabicTouchFaq}
    class="arabictouch-section"
>
    <!-- Header -->
    <div class="arabictouch-section-header">
        {data.icon && <LucideIcon name={data.icon as any} width="48" height="48" />}
        <h5>{isArabic ? data.title_ar : data.title_en}</h5>
    </div>

    <!-- FAQ Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {faqs.map((faq, index) => (
            <div
                class="arabictouch-faq-cardModern cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-2 rounded-2xl p-6 border focus:outline-2 focus:outline-primary focus:outline-offset-2 md:p-4 md:hover:-translate-y-1"
                tabindex="0"
            >
                <!-- Icon Header -->
                <div class="flex items-center gap-4 mb-4">
                    <div class="arabictouch-faq-cardIcon w-12 h-12 rounded-xl flex items-center justify-center">
                        <LucideIcon name="BadgeQuestionMark" width="24" height="24" class="arabictouch-faq-cardIconColor" />
                    </div>
                    <div class="flex-1">
                        <span class="arabictouch-faq-cardLabel text-xs uppercase tracking-wide">
                            <span data-translate="faq.question"></span> {index + 1}
                        </span>
                    </div>
                </div>
                
                <!-- Question -->
                <h3 class="arabictouch-faq-cardTitle font-semibold text-lg mb-3 leading-tight">
                    {faq.label}
                </h3>
                
                <!-- Full Answer Content -->
                <p class="arabictouch-faq-cardContent text-sm leading-relaxed">
                    {faq.content}
                </p>
            </div>
        ))}
    </div>
</section>